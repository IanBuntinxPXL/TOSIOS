pipeline{
    agent any
    stages{
        stage('Create Archive'){
            steps{
              sh 'echo "Removing Existing Archive (if/any)..."'
              sh 'rm -rf deploymentFile.zip'
              
              sh 'echo "Creating Archive..."'
              sh 'zip -r -q deploymentFile.zip .vscode images packages .dockerignore .editorconfig Dockerfile LICENSE docker-compose.yml package.json yarn.lock'
            }
        }
        
        stage('Creating Artifact'){
            steps{
              sh 'echo "Creating Artifact..."'
              archiveArtifacts 'deploymentFile.zip'
            }
        }
        
        stage('Update code'){
            steps{
                sh 'echo "Deploying code..."'
            }
        }
        
    }
}
